def var1 = "hello-world-image"
pipeline {
environment {
    dockerImage = ''
    isExecuted = ''
  }

 
    agent any

    stages {
        stage ('Get iamgename') {
            steps {
                echo "$var1"
            }
        }
        
        stage ('Docker Image Build') 
            {
            steps 
                {
                script {
                       dockerImage = docker.build "hello-world-image" + ":$BUILD_NUMBER"
                       }

                }
            }
            
       stage ('Execute Test In Container') 
            {
            steps 
                {
                script {
                       isExecuted = docker.run "hello-world-image" + ":$BUILD_NUMBER"
                       }


                }
            }
        
       
        
    }
}
